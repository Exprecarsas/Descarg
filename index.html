<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gestión de Unidades Escaneadas</title>
    <link rel="stylesheet" href="styles.css">
</head>

<body>


    <div id="main-content">
        <div id="logo-exprecar" align="left">
            <img src="LOGO EXPRECAR2.png" width="130" height="50" alt="logo">
        </div>
        <div>
            <img src="somos de aqui.png" width="150" height="150" alt="LOGO">
        </div>
        <div>
            <h1>Escaneo de Unidades</h1>
            <h2 id="global-counter">Unidades descargadas: 0 de 0 </h2>
        </div>
    </div>
    <!-- Input para subir archivo CSV -->
    <input type="file" id="csvFileInput" accept=".csv">
    <button id="load-csv">Cargar CSV</button><br>

    <!-- Campo de entrada para escanear código de barras -->
    <input type="text" id="barcodeInput" placeholder="Escanea el código de barras aquí...">
    <button id="start-scanning">Iniciar Escaneo</button>

    <div>
        <!-- Botón de la cámara en la parte superior derecha -->
        <button id="btn-abrir-camara" style="position: absolute; top: 10px; right: 10px; z-index: 1000;">
            <img src="https://images.vexels.com/content/157862/preview/barcode-scanning-icon-1c9119.png" alt="Cámara" />
        </button>
    </div>

    <h2>Unidades Escaneadas</h2>
    <ul id="scanned-list"></ul>

    <!-- Botón para finalizar descarga -->
    <button id="finalizar-descarga">Finalizar Descarga</button>
    </div>

    <div id="scanner-container" style="display: none;">
        <div id="scanner-video-container">
            <!-- Video de la cámara se mostrará aquí -->
            <div id="scanner-video" style="width: 100%; height: 100%;"></div>
            <!-- Cuadro de enfoque -->
            <div id="focus-box" class="focus-box"></div>
        </div>
        <!-- Botón para cerrar el escáner -->
        <button id="close-scanner" style="position: absolute; top: 10px; right: 10px; z-index: 10000;">Cerrar</button>
        <!-- Contador global de unidades escaneadas -->
        <h2 id="global-counter-scanner">Unidades descargadas: 0 de 0 </h2>
        <!-- Contenedor para el mensaje de éxito temporal -->
        <div id="scan-result" class="hidden">
            <span id="result-icon">&#10004;</span> <!-- Icono de "check" -->
        </div>
    </div>

    <!-- Modal para ingresar datos adicionales -->
    <div id="modal" class="modal" style="display: none;">
        <div class="modal-content">
            <h3>Información de la Descarga</h3>
            <input type="text" id="placa" placeholder="Placa de Vehículo">
            <input type="text" id="remitente" placeholder="Remitente">
            <input type="text" id="fecha" disabled>
            <button id="generar-reporte">Generar Reporte</button>
            <button id="cerrar-modal" style="background-color: #cc414d; color: white; margin-top: 10px;">Cerrar</button>
            <!-- Botón de cierre -->
        </div>
    </div>

    <!-- Incluye las bibliotecas necesarias -->
    <script src="https://cdn.jsdelivr.net/npm/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.16.9/xlsx.full.min.js"></script>
    <script src="https://unpkg.com/html5-qrcode/minified/html5-qrcode.min.js"></script>
    <script src="app.js"></script>

</body>

</html>